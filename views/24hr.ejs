<% include partials/header %> 

<!--maincontent-->
<h2>Current UK Energy Generation -</h2>

<div class="ui equal width center aligned stackable padded grid">
    <div class="one column row">
        <div class="sixteen wide tablet sixteen wide computer column">
            <div class="ui raised segments">
                <div class="ui inverted tertiary segment">
                    <h2 class="ui header">Past 24 hrs</h2>
                </div>
                <div class="ui segment canvas-container chart-container" >
                    <canvas id="lineChart"></canvas>
                </div>
                <div class="ui secondary segment">
                    <button id="update" class="ui small button">Update</button>
                    <span>CCGT = Combined Cycle Gas Turbines</span>
                    <span>ICs = Interconnectors</span>
                </div>
            </div>
        </div>
    </div>
</div>
          
            
        
<script>

var ctx = document.getElementById("lineChart");

var data1 = {
    labels: [<%= time %>],
    datasets: [{
        fill: false,
        label: 'Gas',
        data: [<%=ccgt%>],
        backgroundColor: 'rgba(55,150,201,1)',
        borderColor: 'rgba(55,150,201,1)',
        borderWidth: 3
      }, {
        fill: false,
        label: 'Coal',
        data: [<%=coal%>],
        backgroundColor: 'rgba(200,87,83,1)',
        borderColor: 'rgba(200,87,83,1)',
        borderWidth: 3
      },  {
        fill: false,
        label: 'Nuclear',
        data: [<%=nuclear%>],
        backgroundColor: 'rgba(145,95,158,1)',
        borderColor: 'rgba(145,95,158,1)',
        borderWidth: 3
      },  {
        fill: false,
        label: 'Wind',
        data: [<%=wind%>],
        backgroundColor: 'rgba(37,186,161,1)',
        borderColor: 'rgba(37,186,161,1)',
        borderWidth: 3
      },  {
        fill: false,
        label: 'Biomass',
        data: [<%=biomass%>],
        backgroundColor: 'rgba(234,195,186,1)',
        borderColor: 'rgba(234,195,186,1)',
        borderWidth: 3
      },  {
        fill: false,
        label: 'Interconnectors',
        data: [<%=ics%>],
        backgroundColor: 'rgba(255,159,64,0.8)',
        borderColor: 'rgba(255,159,64,0.8)',
        borderWidth: 3
      },  {
        fill: false,
        label: 'Other',
        data: [<%=other%>],
        backgroundColor: 'rgba(149,159,176,1)',
        borderColor: 'rgba(149,159,176,1)',
        borderWidth: 3
      }
    ]
}

var timeFormat = "hA";

var options1 = {
   tooltips: {
        enabled: true,
        mode: 'index'
    },
    elements: {
        point:{
        radius: 0
        }
    },
    legend: {
        display: true
    },
    responsive: true,
    maintainAspectRatio: false,
    scales: {
         xAxes: [{
        //   type: 'time',
        //   time: {
        //       unit: 'hour',
        //       format: 'hh:aa',
        //       parser: 'hour',
        //       stepSize: 1,
        //       displayFormats: {
        //                  hour: 'hA'
        //              }
        //   },
          distribution: 'linear'
        //   ticks: {
        //     maxTicksLimit: 26,
        //   }
        }],
        yAxes: [{
            ticks: {
                beginAtZero:false
            },
            scaleLabel: {
                display: true,
                labelString: 'Generation - Gigawatts (GW)'
            }
            
        }]
    }
}

var barChart = new Chart(ctx, {
    type: 'line',
    data: data1,
    options: options1
});

document.getElementsByClassName('update').addEventListener('click', function() {
			location.reload();
		});

</script>

<!--maincontent-->
        </div>
    </div>


<% include partials/footer %>











